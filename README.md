# Dynamic Mode Decomposition (DMD) for Simulator fOr Wind Farm Applications (SWOFA)

This project is inserted in the Master Thesis Dissertation entitled "Economic Model Predictive Control: an Extended Dynamic Mode Decomposition Approach", where Dynamic Mode Decomposition is used with subspace identification methods and the ideias behind the Koopman Operator to derive a tractable model to perform Economic Model Predictive Control.
The Master Thesis is currently being developed, so weekly commitments are expected.

The higher level goal of this code is to perform Dynamic Mode Decomposition in any set of data retrieved from simulations in SOWFA, thus allowing one to derive models for wind turbine control. As simulations might differ in terms of control strategy (pitch control, yaw control), the user should thus take the following into consideration: (all changes should only be necessary - ideally - in the main script - MPC_wakesteering):


### A. Data (0. Initialise)
The program requires 2 different types of data: (1) Turbine data (2) Flow field and grid data

#### (1) Turbine data: 2 folders readily given by SOWFA must be made available, one for identification and other for validation. They should contain a subfolder named 1000, where all turbine's simulation data is present

#### (2) Flow field and grid spacing: a workspace variable which contains the complete flow field (u, v, w) - as well as the grid x, y, z where the flow field was sampled. This workspace file should be generated by a post processing tool that resamples the grid with a certain Decimate (variable name). This is up to the user to decide, depending on computational power available.

### B. Control Strategy (0. Initialise)
The 2 possible control strategies encapsulated in the code are pitch control and yaw control. The variable *pitchmode* informs the program of the control strategy being used. For pitch control, *pitchmode*=1 should be set, informing the program that a Multi-Blade Coordinate (MBC) transformation is needed to compute the intputs for DMD on the fixed-frame. For *pitchmode*=0 the program is informed that the inputs for DMD will simply be the yaw angles.

### C. Directories (0. Initialise and 1. Assess data)
The directories for the folder in A.1. must be stated when pitchmode is defined, informing the program where the identifications and validation data is located. 
The file name with the field velocity and grid points sampled should be specified in the beginning of the Assess Data field.

### D. Pre Processing (preprocessdmd.m)

### Sates

### Detrending States

### Dynamic Mode Decomposition 



Comments and questions:
#### nassir.cassamo@tecnico.ulisboa.pt or n.rodriguescassamo@tudelft.nl

Nassir Rodrigues Cassamo  
MSc. Mechanical Engineering  
TU Delft, Delft Center for Systems and Control (DCSC), Delft, The Netherlands  
Instituto Superior TÃ©cnico, Lisbon, Portugal   
March 2020  
